Título: Padrão de Desbloqueio — Contando caminhos como um jogo

O que é esse problema?
Imagine uma grade de botões (N x N), como um tabuleiro. Você começa num botão e desenha linhas até um próximo botão. Regras:

- Você pode repetir botões, mas não pode passar pelo centro de um botão diferente no meio do segmento.
- Um padrão com K segmentos tem K+1 botões tocados (porque cada segmento liga dois botões).

O objetivo: contar quantos padrões diferentes têm exatamente K segmentos. Como K pode ser enorme (até 10^15), não dá para simular todos os passos um por um.

Ideia mágica (mentalidade):

1. Veja cada botão como um ponto numerado. Construa um mapa de quem pode ir para quem com um segmento direto (adjacência).
2. Montamos uma matriz A onde A[i][j] = 1 se dá pra ir do botão i para j num segmento.
3. Agora, a quantidade de caminhos com exatamente K segmentos entre i e j é o elemento (i, j) da matriz A^K (A multiplicada por ela K vezes).
4. Para contar todos os padrões com K segmentos, basta somar todos os elementos de A^K.
5. Para calcular A^K rápido usamos exponenciação por quadrados (como quando você calcula potências rapidamente na tabuada): em vez de multiplicar K vezes, você usa a decomposição binária de K e faz O(log K) multiplicações de matrizes.
6. Usamos resto por 1e9+7 para não estourar os números.

Exemplo simples mental:

- Se a matriz fosse 2x2 e K pequeno, você poderia contar caminhos manualmente. Mas quando N cresce e K vira um gigante, a mágica da multiplicação de matrizes faz o trabalho pesado.

Resumo para criança:
Pense nos botões como ilhas e nos segmentos como pontes. A matriz A diz quais pontes existem. Se você quer andar por K pontes, a matriz A^K conta todos os caminhos possíveis. Em vez de caminhar em cada caminho, a matemática multiplica matrizes e conta tudo muito rápido.
